name: publish python

on:
  workflow_dispatch:
    inputs:
      name:
        type: string
        required: true
        description: 'Release name'

jobs:
  publish:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout sources
        uses: actions/checkout@v3
      - name: Build Python
        uses: ./.github/workflows/build.yml@build-python
      - name: Release
        uses: "marvinpinto/action-automatic-releases@latest"
        with:
          repo_token: "${{ secrets.GITHUB_TOKEN }}"
          title: "${{ inputs.name }}"
          prerelease: false
          files: dist/
